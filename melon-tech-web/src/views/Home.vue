<template>
  <!-- é¡¶éƒ¨è‹±é›„åŒº -->
  <section class="hero">
    <div class="hero-inner">
      <el-tag size="large" effect="dark" type="success" round>ğŸ‰ ç”œç“œè”åˆç§‘æŠ€</el-tag>
      <h1 class="hero-title">è®©ã€Œç”œç“œæ¸¸ä¹åœºã€æ›´å¥½ç©</h1>
      <p class="hero-subtitle">
        æ°‘é—´ç©å®¶ç»„ç»‡ï¼Œä¸“æ³¨äºä¸ºç”œç“œæ¸¸ä¹åœºæä¾›ä¸°å¯Œçš„ç¬¬ä¸‰æ–¹å·¥å…·ä¸æ”»ç•¥ï¼Œå¸®åŠ©ç©å®¶æ›´è½»æ¾åœ°ç®¡ç†ã€åˆ›é€ å’Œåˆ†äº«ã€‚
      </p>

      <div class="hero-actions">
        <el-button type="primary" size="large" @click="$router.push('/about')">
          äº†è§£æˆ‘ä»¬
          <el-icon class="ml-6"><Right /></el-icon>
        </el-button>
        <el-button size="large" @click="$router.push('/register')">
          åŠ å…¥ç¤¾åŒº
        </el-button>
      </div>

      <div class="hero-stats">
        <el-card shadow="never" class="glass">
          <el-row :gutter="18" align="middle">
            <el-col :xs="12" :sm="8">
              <div class="stat">
                <div class="stat-number">{{ stats.tools }}</div>
                <div class="stat-label">å¯ç”¨å·¥å…·</div>
              </div>
            </el-col>
            <el-col :xs="12" :sm="8">
              <div class="stat">
                <div class="stat-number">{{ stats.guides }}</div>
                <div class="stat-label">æ”»ç•¥æ•™ç¨‹</div>
              </div>
            </el-col>
            <el-col :xs="24" :sm="8">
              <div class="stat">
                <div class="stat-number">{{ stats.players }}+</div>
                <div class="stat-label">æœåŠ¡ç©å®¶</div>
              </div>
            </el-col>
          </el-row>
        </el-card>
      </div>
    </div>
    <div class="hero-gradient"></div>
  </section>

  <!-- åŠŸèƒ½äº®ç‚¹ -->
  <section class="section container">
    <div class="section-header">
      <h2>æˆ‘ä»¬åœ¨åšä»€ä¹ˆ</h2>
      <p>å›´ç»•ç”œç“œæ¸¸ä¹åœºçš„åˆ›ä½œã€ç®¡ç†å’Œåˆ†äº«ï¼Œæä¾›ç¨³å®šã€æ˜“ç”¨ã€æŒç»­æ›´æ–°çš„å‘¨è¾¹å·¥å…·ã€‚</p>
    </div>

    <el-row :gutter="16">
      <el-col v-for="f in features" :key="f.title" :xs="24" :sm="12" :lg="6">
        <el-card class="feature-card" shadow="hover">
          <div class="feature-icon">
            <el-icon :size="24">
              <component :is="f.icon" />
            </el-icon>
          </div>
          <div class="feature-body">
            <h3>{{ f.title }}</h3>
            <p>{{ f.desc }}</p>
          </div>
        </el-card>
      </el-col>
    </el-row>
  </section>

  <!-- ç²¾é€‰å·¥å…· -->
  <section class="section container">
    <div class="section-header">
      <h2>ç²¾é€‰å·¥å…·</h2>
      <p>ä¸Šæ‰‹å³ç”¨çš„å°è€Œç¾å·¥å…·ï¼Œå‡å°‘æŠ˜è…¾ï¼Œä¸“å¿ƒç©å¾—æ›´çˆ½ã€‚</p>
    </div>

    <el-row :gutter="16">
      <el-col v-for="t in tools" :key="t.name" :xs="24" :md="12" :lg="8">
        <el-card class="tool-card" shadow="always">
          <div class="tool-head">
            <div class="tool-name">
              <el-icon class="mr-8" :size="18"><component :is="t.icon" /></el-icon>
              {{ t.name }}
            </div>
            <el-tag size="small" type="success" v-if="t.new">NEW</el-tag>
          </div>
          <p class="tool-desc">{{ t.desc }}</p>
          <div class="tool-tags">
            <el-tag v-for="tag in t.tags" :key="tag" size="small" class="mr-6 mb-6" effect="light">
              {{ tag }}
            </el-tag>
          </div>
          <div class="tool-actions">
            <el-button type="primary" @click="goto(t.to)">ç«‹å³ä½¿ç”¨</el-button>
            <el-button text @click="goto(t.doc)">æ–‡æ¡£</el-button>
          </div>
        </el-card>
      </el-col>
    </el-row>
  </section>

  <!-- å¿«é€Ÿå¼€å§‹ -->
  <section class="section container">
    <div class="section-header">
      <h2>å¿«é€Ÿå¼€å§‹</h2>
      <p>ä¸‰æ­¥å®Œæˆï¼Œä»å®‰è£…åˆ°ä¸Šæ‰‹ï¼Œä¸éœ€è¦å’Œç”µè„‘æ‰“ä»—ã€‚</p>
    </div>

    <el-steps :active="3" align-center finish-status="success" class="steps">
      <el-step title="æ³¨å†Œç™»å½•" description="åˆ›å»ºè´¦å·ï¼Œäº‘ç«¯åŒæ­¥ä½ çš„å·¥å…·é…ç½®" />
      <el-step title="é€‰æ‹©å·¥å…·" description="ä»å·¥å…·åº“æŒ‘é€‰éœ€è¦çš„æ¨¡å—ï¼Œä¸€é”®å®‰è£…" />
      <el-step title="å¼€å§‹æ¸¸ç©" description="æ‰“å¼€ç”œç“œæ¸¸ä¹åœºï¼Œä½“éªŒæ›´é¡ºæ»‘çš„ç©æ³•" />
    </el-steps>
  </section>

  <!-- FAQ -->
  <section class="section container">
    <div class="section-header">
      <h2>å¸¸è§é—®é¢˜</h2>
      <p>ä¸¤åˆ†é’Ÿè¯»å®Œï¼Œå°‘èµ°å¼¯è·¯ã€‚</p>
    </div>

    <el-collapse class="faq">
      <el-collapse-item name="1">
        <template #title>
          å·¥å…·æ˜¯å®˜æ–¹çš„å—ï¼Ÿ
        </template>
        æˆ‘ä»¬æ˜¯ç©å®¶è‡ªå‘ç»„ç»‡ï¼Œä¸å®˜æ–¹æ— ä»å±å…³ç³»ã€‚å·¥å…·å‡ä¸ºç¬¬ä¸‰æ–¹æ‰©å±•ï¼Œå¼ºè°ƒå®‰å…¨ä¸å¯æ§ã€‚
      </el-collapse-item>

      <el-collapse-item name="2">
        <template #title>
          éœ€è¦å¤æ‚é…ç½®å—ï¼Ÿ
        </template>
        ä¸éœ€è¦ã€‚å¤§å¤šæ•°å·¥å…·æ”¯æŒä¸€é”®å®‰è£…ä¸è‡ªåŠ¨æ›´æ–°ï¼Œå¿…è¦å‚æ•°ä¼šæœ‰å¯è§†åŒ–å¼•å¯¼ã€‚
      </el-collapse-item>

      <el-collapse-item name="3">
        <template #title>
          æ˜¯å¦æ”¶è´¹ï¼Ÿ
        </template>
        åŸºç¡€åŠŸèƒ½å¯¹æ‰€æœ‰ç©å®¶å…è´¹å¼€æ”¾ã€‚éƒ¨åˆ†å¢å€¼å·¥å…·å¯èƒ½éœ€è¦èµåŠ©ï¼Œè´¹ç”¨é€æ˜å¯é€‰ã€‚
      </el-collapse-item>
    </el-collapse>
  </section>

  <!-- é¡µè„š -->
  <footer class="footer">
    <div class="container footer-inner">
      <div class="brand">
        <span class="logo">ğŸ‰</span>
        <span class="name">ç”œç“œè”åˆç§‘æŠ€</span>
      </div>
      <div class="links">
        <el-link @click="$router.push('/about')">å…³äº</el-link>
        <el-link @click="$router.push('/register')">åŠ å…¥</el-link>
        <el-link @click="$router.push('/login')">ç™»å½•</el-link>
      </div>
    </div>
  </footer>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import {
  Tools, MagicStick, Connection, Compass, Star, Link as LinkIcon, TrendCharts, Setting, Cpu, Right
} from '@element-plus/icons-vue'

const stats = ref({
  tools: 42,
  guides: 68,
  players: 1200
})

type Feature = { title: string; desc: string; icon: any }
const features = ref<Feature[]>([
  { title: 'å·¥å…·é›†æˆ', desc: 'å¸¸ç”¨åŠŸèƒ½ä¸€ç«™å¼é›†æˆï¼Œå‡å°‘åˆ‡æ¢ä¸å…¼å®¹é—®é¢˜ã€‚', icon: Tools },
  { title: 'åˆ›ä½œå¢å¼º', desc: 'ç¼–è¾‘ã€é¢„è®¾ä¸èµ„æºç®¡ç†ï¼Œè®©åˆ›ä½œæ›´é¡ºæ‰‹ã€‚', icon: MagicStick },
  { title: 'å…¼å®¹æ›´æ–°', desc: 'è·Ÿè¸ªæ¸¸æˆç‰ˆæœ¬å˜åŒ–ï¼Œå·¥å…·æŒç»­é€‚é…ä¸æé†’ã€‚', icon: Connection },
  { title: 'ç¤¾åŒºåä½œ', desc: 'ç©å®¶åˆ†äº«æœ€ä½³å®è·µä¸ç´ æï¼Œçµæ„Ÿä¸å†çŸ­ç¼ºã€‚', icon: Compass }
])

type ToolItem = { name: string; desc: string; tags: string[]; icon: any; to: string; doc: string; new?: boolean }
const tools = ref<ToolItem[]>([
  {
    name: 'æ¨¡ç»„ç®¡ç†å™¨',
    desc: 'ä¸€é”®å®‰è£…/å¯ç”¨/åœç”¨æ¨¡ç»„ï¼Œè‡ªåŠ¨å¤„ç†ä¾èµ–ä¸å†²çªã€‚',
    tags: ['ä¸€é”®å®‰è£…', 'ä¾èµ–è§£æ', 'å†²çªæ£€æµ‹'],
    icon: Setting,
    to: '/dashboard', doc: '/about', new: true
  },
  {
    name: 'åœºæ™¯é¢„è®¾åº“',
    desc: 'å¸¸ç”¨åœºæ™¯ä¸ç‰©ç†å‚æ•°ä¿å­˜ä¸ºé¢„è®¾ï¼Œéšæ—¶å¤ç”¨ä¸åˆ†äº«ã€‚',
    tags: ['é¢„è®¾', 'åˆ†äº«', 'äº‘åŒæ­¥'],
    icon: Star,
    to: '/dashboard', doc: '/about'
  },
  {
    name: 'æ•°æ®åˆ†æå™¨',
    desc: 'å¯¹æˆ˜è®°å½•ã€ç‰©ç†å‚æ•°ä¸æ€§èƒ½æ•°æ®å¯è§†åŒ–ï¼Œä¼˜åŒ–ç©æ³•ä½“éªŒã€‚',
    tags: ['ç»Ÿè®¡', 'å¯è§†åŒ–', 'æ€§èƒ½'],
    icon: TrendCharts,
    to: '/dashboard', doc: '/about'
  }
])

function goto(path: string) {
  if (!path) return
  // ç®€å•è·¯ç”±è·³è½¬å ä½ï¼ŒçœŸå®é¡¹ç›®é‡Œæ›¿æ¢ä¸ºå…·ä½“è·¯ç”±
  // è¿™é‡Œé»˜è®¤å­˜åœ¨ /dashboard ä¸ /aboutï¼Œå¯æŒ‰ä½ è·¯ç”±å®é™…æ”¹åŠ¨
  // @ts-ignore
  if (path.startsWith('/')) return (window as any).$router?.push?.(path) ?? (location.href = path)
  location.href = path
}
</script>

<style scoped>
/* å®¹å™¨ */
.container {
  max-width: 1160px;
  margin: 0 auto;
  padding: 0 16px;
}

/* è‹±é›„åŒº */
.hero {
  position: relative;
  padding: 96px 0 64px;
  overflow: clip;
  background: radial-gradient(1200px 600px at 50% -200px, var(--el-color-success-light-7), transparent 70%),
              linear-gradient(180deg, rgba(16,185,129,.06), rgba(255,255,255,0));
}
.hero-gradient {
  position: absolute;
  inset: -20% -10% auto -10%;
  height: 360px;
  background:
    radial-gradient(400px 200px at 15% -30px, rgba(16,185,129,.12), transparent 70%),
    radial-gradient(400px 200px at 85% -30px, rgba(16,185,129,.12), transparent 70%);
  filter: blur(20px);
  pointer-events: none;
}
.hero-inner {
  max-width: 960px;
  margin: 0 auto;
  text-align: center;
  padding: 0 16px;
}
.hero-title {
  margin: 16px 0 8px;
  font-weight: 800;
  font-size: clamp(28px, 4.2vw, 44px);
  letter-spacing: .2px;
}
.hero-subtitle {
  color: var(--el-text-color-secondary);
  max-width: 720px;
  margin: 0 auto;
  line-height: 1.8;
}
.hero-actions {
  margin-top: 20px;
  display: inline-flex;
  gap: 12px;
}
.hero-stats {
  margin-top: 28px;
}
.glass {
  background: rgba(255,255,255,.65);
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,.6);
}
.stat { text-align: center; }
.stat-number {
  font-size: 28px;
  font-weight: 800;
  line-height: 1.1;
}
.stat-label {
  font-size: 13px;
  color: var(--el-text-color-secondary);
}

/* æ¨¡å—åŒº */
.section {
  padding: 48px 0;
}
.section-header {
  text-align: center;
  margin-bottom: 18px;
}
.section-header h2 {
  font-size: 24px;
  margin: 0 0 6px;
}
.section-header p {
  color: var(--el-text-color-secondary);
}

/* åŠŸèƒ½å¡ç‰‡ */
.feature-card {
  height: 100%;
  border-radius: 16px;
}
.feature-icon {
  width: 44px; height: 44px;
  border-radius: 12px;
  display: grid; place-items: center;
  background: var(--el-color-success-light-9);
  color: var(--el-color-success);
  margin-bottom: 10px;
}
.feature-body h3 {
  margin: 0 0 6px;
  font-weight: 700;
}
.feature-body p {
  color: var(--el-text-color-secondary);
  margin: 0;
}

/* å·¥å…·å¡ç‰‡ */
.tool-card {
  border-radius: 18px;
}
.tool-head {
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 6px;
}
.tool-name {
  display: flex; align-items: center;
  font-weight: 700;
}
.tool-desc {
  color: var(--el-text-color-regular);
  margin: 8px 0 10px;
}
.tool-tags {
  margin-bottom: 10px;
}
.tool-actions {
  display: flex; gap: 8px;
}

/* æ­¥éª¤æ¡ */
.steps {
  max-width: 860px;
  margin: 0 auto;
}

/* FAQ */
.faq :deep(.el-collapse-item__header) {
  font-weight: 600;
}

/* é¡µè„š */
.footer {
  border-top: 1px solid var(--el-border-color);
  margin-top: 24px;
  padding: 20px 0;
  background: linear-gradient(180deg, rgba(16,185,129,.03), rgba(255,255,255,0));
}
.footer-inner {
  display: flex; align-items: center; justify-content: space-between;
}
.brand { display: flex; align-items: center; gap: 8px; }
.logo { font-size: 20px; }
.name { font-weight: 700; }
.links > * + * { margin-left: 12px; }

/* å°å·¥å…· */
.ml-6 { margin-left: 6px; }
.mr-8 { margin-right: 8px; }
.mb-6 { margin-bottom: 6px; }
</style>
